<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rifugio di Leo - Gestionale</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #343a40;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #2d5016, #4a7c59);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .profile-dropdown {
            position: relative;
        }

        .profile-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .profile-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            min-width: 150px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 1000;
        }

        .dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            color: #343a40;
            text-decoration: none;
            transition: background 0.3s;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            padding: 2rem 0;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 2rem;
            text-decoration: none;
            color: #343a40;
            border-left: 3px solid transparent;
            transition: all 0.3s;
        }

        .sidebar-item:hover, .sidebar-item.active {
            background: #f8f9fa;
            border-left-color: #ff8c42;
            color: #ff8c42;
        }

        .sidebar-icon {
            width: 20px;
            height: 20px;
            text-align: center;
        }

        /* Content Area */
        .content {
            flex: 1;
            padding: 2rem;
        }

        .page-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: #2d5016;
        }

        /* Search and Controls */
        .section-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .search-container {
            position: relative;
            flex: 1;
            max-width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 2px solid #dee2e6;
            border-radius: 25px;
            font-size: 0.9rem;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #ff8c42;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }

        .controls-group {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        /* Dashboard Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            border-left: 4px solid #ff8c42;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2d5016;
        }

        .stat-label {
            color: #6c757d;
            margin-top: 0.5rem;
        }

        /* Content Sections */
        .content-section {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f8f9fa;
        }

        .section-title {
            font-size: 1.3rem;
            color: #2d5016;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: #ff8c42;
            color: white;
        }

        .btn-primary:hover {
            background: #e67c3c;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-outline {
            background: transparent;
            color: #ff8c42;
            border: 1px solid #ff8c42;
        }

        .btn-outline:hover {
            background: #ff8c42;
            color: white;
        }

        .btn-icon {
            padding: 0.5rem;
            min-width: auto;
        }

        /* Toggle Buttons */
        .view-toggle {
            display: flex;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            overflow: hidden;
        }

        .toggle-btn {
            padding: 0.5rem 1rem;
            background: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            color: #6c757d;
        }

        .toggle-btn.active {
            background: #ff8c42;
            color: white;
        }

        .toggle-btn:hover:not(.active) {
            background: #f8f9fa;
        }

        /* Animal Cards */
        .animals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .animal-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }

        .animal-card:hover {
            transform: translateY(-5px);
        }

        .animal-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #ddd, #eee);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #999;
        }

        .animal-info {
            padding: 1rem;
        }

        .animal-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2d5016;
            margin-bottom: 0.5rem;
        }

        .animal-details {
            color: #6c757d;
            margin-bottom: 1rem;
        }

        .animal-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-available {
            background: #d4edda;
            color: #155724;
        }

        .status-adopted {
            background: #f8d7da;
            color: #721c24;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        /* Table */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid #dee2e6;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2d5016;
        }

        tr:hover {
            background: #f8f9fa;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 0;
            margin-bottom: 2rem;
            border-bottom: 2px solid #dee2e6;
        }

        .nav-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            color: #6c757d;
            transition: all 0.3s;
        }

        .nav-tab.active {
            color: #2d5016;
            border-bottom-color: #ff8c42;
        }

        /* Adoption Form */
        .adoption-form {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .form-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #ff8c42;
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .form-section h3 {
            color: #2d5016;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #dee2e6;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 1rem;
            margin-bottom: 1rem;
            align-items: center;
        }

        .form-label {
            font-weight: 600;
            color: #343a40;
        }

        .form-value {
            color: #6c757d;
        }

        .signature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 3rem;
        }

        .signature-box {
            border-top: 2px solid #343a40;
            padding-top: 0.5rem;
            text-align: center;
            color: #6c757d;
        }

        .print-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #ff8c42;
            color: white;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 140, 66, 0.3);
            transition: all 0.3s;
        }

        .print-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 140, 66, 0.4);
        }

        .hidden {
            display: none !important;
        }
        #medicalDetailModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: rgba(0,0,0,0.5);
    z-index: 1000;
    overflow-y: auto;
    padding: 2rem;
}

#medicalDetailModal .adoption-form {
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    margin: 0 auto;
}
        @media print {
            .sidebar, .print-btn, .btn, .section-controls {
                display: none !important;
            }
            
            .content {
                padding: 0;
            }
            
            .main-container {
                display: block;
            }
            
            .adoption-form {
                box-shadow: none;
                max-width: none;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .section-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-container {
                max-width: none;
            }
            
            .controls-group {
                justify-content: center;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .animals-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-paw"></i>
            <span>Rifugio di Leo</span>
        </div>
        <div class="profile-dropdown">
            <button class="profile-btn" onclick="toggleDropdown()">
                <i class="fas fa-user-circle"></i>
            </button>
            <div class="dropdown-menu" id="profileMenu">
                <a href="#" class="dropdown-item">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Login</span>
                </a>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <a href="#" class="sidebar-item active" onclick="showSection('dashboard')">
                <i class="fas fa-chart-bar sidebar-icon"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="sidebar-item" onclick="showSection('animals')">
                <i class="fas fa-dog sidebar-icon"></i>
                <span>Animali</span>
            </a>
            <a href="#" class="sidebar-item" onclick="showSection('adoptions')">
                <i class="fas fa-heart sidebar-icon"></i>
                <span>Adozioni</span>
            </a>
            <a href="#" class="sidebar-item" onclick="showSection('medical-records')">
                <i class="fas fa-file-medical sidebar-icon"></i>
                <span>Cartelle Cliniche</span>
            </a>
            <a href="#" class="sidebar-item" onclick="showSection('visits')">
                <i class="fas fa-stethoscope sidebar-icon"></i>
                <span>Visite Veterinarie</span>
            </a>
            <a href="#" class="sidebar-item" onclick="showSection('donations')">
                <i class="fas fa-gift sidebar-icon"></i>
                <span>Donazioni</span>
            </a>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Dashboard Section -->
            <div id="dashboard" class="section">
                <h1 class="page-title">Dashboard</h1>
                
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">47</div>
                        <div class="stat-label">Animali ospitati</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">12</div>
                        <div class="stat-label">Adozioni questo mese</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">8</div>
                        <div class="stat-label">Visite programmate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">€2,840</div>
                        <div class="stat-label">Donazioni mensili</div>
                    </div>
                </div>

                <!-- Recent Animals -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Ultimi Arrivi</h2>
                        <a href="#" class="btn btn-primary">Vedi tutti</a>
                    </div>
                    <div class="animals-grid">
                        <div class="animal-card">
                            <div class="animal-image"><i class="fas fa-dog"></i></div>
                            <div class="animal-info">
                                <div class="animal-name">Max</div>
                                <div class="animal-details">Golden Retriever • 3 anni • Maschio</div>
                                <div class="animal-details"><strong>Microchip:</strong> 380260123456789</div>
                                <span class="animal-status status-available">Disponibile</span>
                            </div>
                        </div>
                        <div class="animal-card">
                            <div class="animal-image"><i class="fas fa-cat"></i></div>
                            <div class="animal-info">
                                <div class="animal-name">Luna</div>
                                <div class="animal-details">Gatto Europeo • 2 anni • Femmina</div>
                                <span class="animal-status status-available">Disponibile</span>
                            </div>
                        </div>
                        <div class="animal-card">
                            <div class="animal-image"><i class="fas fa-dog"></i></div>
                            <div class="animal-info">
                                <div class="animal-name">Buddy</div>
                                <div class="animal-details">Labrador Mix • 5 anni • Maschio</div>
                                <span class="animal-status status-adopted">Adottato</span>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="print-btn" onclick="window.print()" title="Stampa Dashboard">
                    <i class="fas fa-print"></i>
                </button>
            </div>

            <!-- Animals Section -->
            <div id="animals" class="section hidden">
                <h1 class="page-title">Gestione Animali</h1>
                
                <div class="section-controls">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Cerca animali..." id="animalsSearch" onkeyup="searchAnimals()">
                    </div>
                    <div class="controls-group">
                        <div class="view-toggle">
                            <button class="toggle-btn active" onclick="toggleAnimalsView('table')">
                                <i class="fas fa-list"></i>
                            </button>
                            <button class="toggle-btn" onclick="toggleAnimalsView('cards')">
                                <i class="fas fa-th-large"></i>
                            </button>
                        </div>
                        <button class="btn btn-outline" onclick="window.print()">
                            <i class="fas fa-print"></i> Stampa
                        </button>
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Aggiungi Animale
                        </button>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Lista Animali</h2>
                        <button class="btn btn-secondary">
                            <i class="fas fa-folder-medical"></i> Cartelle Cliniche
                        </button>
                    </div>
                    
                    <!-- Table View -->
                    <div id="animalsTable" class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Microchip</th>
                                    <th>Nome</th>
                                    <th>Specie</th>
                                    <th>Età</th>
                                    <th>Stato</th>
                                    <th>Data Arrivo</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody id="animalsTableBody">
                                <tr>
                                    <td><strong>380260123456789</strong></td>
                                    <td><strong>Max</strong></td>
                                    <td>Cane - Golden Retriever</td>
                                    <td>3 anni</td>
                                    <td><span class="animal-status status-available">Disponibile</span></td>
                                    <td>15/05/2025</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Cartella Clinica">
                                            <i class="fas fa-file-medical"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>380260123456788</strong></td>
                                    <td><strong>Luna</strong></td>
                                    <td>Gatto - Europeo</td>
                                    <td>2 anni</td>
                                    <td><span class="animal-status status-available">Disponibile</span></td>
                                    <td>20/05/2025</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Cartella Clinica">
                                            <i class="fas fa-file-medical"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>380260123456790</strong></td>
                                    <td><strong>Buddy</strong></td>
                                    <td>Cane - Labrador Mix</td>
                                    <td>5 anni</td>
                                    <td><span class="animal-status status-adopted">Adottato</span></td>
                                    <td>10/05/2025</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Cartella Clinica">
                                            <i class="fas fa-file-medical"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Cards View -->
                    <div id="animalsCards" class="animals-grid hidden">
                        <div class="animal-card">
                            <div class="animal-image"><i class="fas fa-dog"></i></div>
                            <div class="animal-info">
                                <div class="animal-name">Max</div>
                                <div class="animal-details">Golden Retriever • 3 anni • Maschio</div>
                                <span class="animal-status status-available">Disponibile</span>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-icon" title="Dettagli">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-secondary btn-icon" title="Cartella Clinica">
                                        <i class="fas fa-file-medical"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="animal-card">
                            <div class="animal-image"><i class="fas fa-cat"></i></div>
                            <div class="animal-info">
                                <div class="animal-name">Luna</div>
                                <div class="animal-details">Gatto Europeo • 2 anni • Femmina</div>
                                <span class="animal-status status-available">Disponibile</span>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-icon" title="Dettagli">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-secondary btn-icon" title="Cartella Clinica">
                                        <i class="fas fa-file-medical"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="animal-card">
                            <div class="animal-image"><i class="fas fa-dog"></i></div>
                            <div class="animal-info">
                                <div class="animal-name">Buddy</div>
                                <div class="animal-details">Labrador Mix • 5 anni • Maschio</div>
                                <span class="animal-status status-adopted">Adottato</span>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-icon" title="Dettagli">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-secondary btn-icon" title="Cartella Clinica">
                                        <i class="fas fa-file-medical"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Adoptions Section -->
            <div id="adoptions" class="section hidden">
                <h1 class="page-title">Gestione Adozioni</h1>
                
                <div class="section-controls">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Cerca adozioni..." id="adoptionsSearch" onkeyup="searchAdoptions()">
                    </div>
                    <div class="controls-group">
                        <button class="btn btn-outline" onclick="window.print()">
                            <i class="fas fa-print"></i> Stampa
                        </button>
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Nuova Richiesta
                        </button>
                    </div>
                </div>

                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showAdoptionTab('pending')">Richieste Pendenti</button>
                    <button class="nav-tab" onclick="showAdoptionTab('completed')">Adozioni Completate</button>
                    <button class="nav-tab" onclick="showAdoptionTab('forms')">Moduli Adozione</button>
                </div>

                <!-- Pending Adoptions -->
                <div id="pendingAdoptions" class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Richieste di Adozione</h2>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Richiedente</th>
                                    <th>Animale</th>
                                    <th>Microchip</th>
                                    <th>Data Richiesta</th>
                                    <th>Stato</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody id="adoptionsTableBody">
                                <tr>
                                    <td><strong>Mario Rossi</strong><br><small>mario.rossi@email.com</small></td>
                                    <td>Max (Golden Retriever)</td>
                                    <td>380260123456789</td>
                                    <td>28/05/2025</td>
                                    <td><span class="animal-status status-available">In Valutazione</span></td>
                                    <td>
                                        <button class="btn btn-primary">
                                            <i class="fas fa-check"></i> Valuta
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Giulia Bianchi</strong><br><small>giulia.b@email.com</small></td>
                                    <td>Luna (Gatto Europeo)</td>
                                    <td>380260123456790</td>
                                    <td>25/05/2025</td>
                                    <td><span class="animal-status status-available">In Valutazione</span></td>
                                    <td>
                                        <button class="btn btn-primary">
                                            <i class="fas fa-check"></i> Valuta
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Completed Adoptions -->
                <div id="completedAdoptions" class="content-section hidden">
                    <div class="section-header">
                        <h2 class="section-title">Adozioni Completate</h2>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Adottante</th>
                                    <th>Animale</th>
                                    <th>Data Adozione</th>
                                    <th>Contratto</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Francesco Verde</strong><br><small>f.verde@email.com</small></td>
                                    <td>Rex (Pastore Tedesco)</td>
                                    <td>20/05/2025</td>
                                    <td><span class="animal-status status-adopted">Firmato</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Visualizza Contratto">
                                            <i class="fas fa-file-contract"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Anna Neri</strong><br><small>anna.neri@email.com</small></td>
                                    <td>Mia (Gatto Persiano)</td>
                                    <td>18/05/2025</td>
                                    <td><span class="animal-status status-adopted">Firmato</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Visualizza Contratto">
                                            <i class="fas fa-file-contract"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Adoption Forms -->
                <div id="adoptionForms" class="content-section hidden">
                    <div class="section-header">
                        <h2 class="section-title">Moduli Adozione</h2>
                        <button class="btn btn-primary" onclick="showAdoptionForm()">
                            <i class="fas fa-file-alt"></i> Visualizza Modulo
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Tipo Modulo</th>
                                    <th>Ultima Modifica</th>
                                    <th>Stato</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Contratto Adozione Standard</strong></td>
                                    <td>15/05/2025</td>
                                    <td><span class="animal-status status-available">Attivo</span></td>
                                    <td>
                                        <button class="btn btn-primary" onclick="showAdoptionForm()">
                                            <i class="fas fa-eye"></i> Visualizza
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Modifica">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Visits Section -->
            <div id="visits" class="section hidden">
                <h1 class="page-title">Visite Veterinarie</h1>
                
                <div class="section-controls">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Cerca visite..." id="visitsSearch" onkeyup="searchVisits()">
                    </div>
                    <div class="controls-group">
                        <button class="btn btn-outline" onclick="window.print()">
                            <i class="fas fa-print"></i> Stampa
                        </button>
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Prenota Visita
                        </button>
                    </div>
                </div>

                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showVisitTab('upcoming')">Prossime Visite</button>
                    <button class="nav-tab" onclick="showVisitTab('completed')">Visite Completate</button>
                </div>
                
                <!-- Upcoming Visits -->
                <div id="upcomingVisits" class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Prossime Visite</h2>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Animale</th>
                                    <th>Microchip</th>
                                    <th>Veterinario</th>
                                    <th>Tipo Visita</th>
                                    <th>Data e Ora</th>
                                    <th>Note</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody id="visitsTableBody">
                                <tr>
                                    <td><strong>Max</strong></td>
                                    <td>380260123456789</td>
                                    <td>Dr. Veterinari</td>
                                    <td>Controllo di routine</td>
                                    <td>02/06/2025 - 10:00</td>
                                    <td>Vaccino annuale</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Modifica">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Luna</strong></td>
                                    <td>380260123456790</td>
                                    <td>Dr. Felini</td>
                                    <td>Sterilizzazione</td>
                                    <td>05/06/2025 - 14:30</td>
                                    <td>Intervento programmato</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Modifica">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Completed Visits -->
                <div id="completedVisits" class="content-section hidden">
                    <div class="section-header">
                        <h2 class="section-title">Visite Completate</h2>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Animale</th>
                                    <th>Microchip</th>
                                    <th>Veterinario</th>
                                    <th>Tipo Visita</th>
                                    <th>Data</th>
                                    <th>Esito</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Buddy</strong></td>
                                    <td>380260123456791</td>
                                    <td>Dr. Veterinari</td>
                                    <td>Controllo pre-adozione</td>
                                    <td>08/05/2025</td>
                                    <td><span class="animal-status status-available">Positivo</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Referto">
                                            <i class="fas fa-file-medical"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Rex</strong></td>
                                    <td>380260123456792</td>
                                    <td>Dr. Chirurgo</td>
                                    <td>Intervento chirurgico</td>
                                    <td>12/05/2025</td>
                                    <td><span class="animal-status status-available">Successo</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Referto">
                                            <i class="fas fa-file-medical"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- Medical Records Section -->
            <div id="medical-records" class="section hidden">
                <h1 class="page-title">Cartelle Cliniche</h1>
                
                <div class="section-controls">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Cerca cartelle..." id="medicalSearch" onkeyup="searchMedicalRecords()">
                    </div>
                    <div class="controls-group">
                        <select class="form-select" style="padding: 0.5rem; border: 1px solid #dee2e6; border-radius: 5px;">
                            <option value="">Tutti gli animali</option>
                            <option value="cane">Solo Cani</option>
                            <option value="gatto">Solo Gatti</option>
                        </select>
                        <button class="btn btn-outline" onclick="window.print()">
                            <i class="fas fa-print"></i> Stampa
                        </button>
                        <button class="btn btn-primary" onclick="showNewMedicalRecord()">
                            <i class="fas fa-plus"></i> Nuova Cartella
                        </button>
                    </div>
                </div>

                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showMedicalTab('records')">Cartelle Cliniche</button>
                    <button class="nav-tab" onclick="showMedicalTab('vaccinations')">Vaccinazioni</button>
                    <button class="nav-tab" onclick="showMedicalTab('treatments')">Trattamenti</button>
                </div>

                <!-- Medical Records Tab -->
                <div id="medicalRecords" class="content-section hidden">
                    <div class="section-header">
                        <h2 class="section-title">Cartelle Cliniche</h2>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Animale</th>
                                    <th>Microchip</th>
                                    <th>Specie</th>
                                    <th>Età</th>
                                    <th>Ultima Visita</th>
                                    <th>Stato Salute</th>
                                    <th>Note</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody id="medicalRecordsTableBody">
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <i class="fas fa-dog" style="color: #ff8c42;"></i>
                                            <strong>Max</strong>
                                        </div>
                                    </td>
                                    <td>380260123456789</td>
                                    <td>Cane - Golden Retriever</td>
                                    
                                    <td>3 anni</td>
                                    <td>25/05/2025</td>
                                    <td><span class="animal-status status-available">Buono</span></td>
                                    <td>Vaccini aggiornati</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Visualizza Cartella" onclick="showMedicalDetail('max')">
                                            <i class="fas fa-folder-open"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Nuova Visita">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <i class="fas fa-cat" style="color: #ff8c42;"></i>
                                            <strong>Luna</strong>
                                        </div>
                                    </td>
                                    <td>380260123456790</td>
                                    <td>Gatto - Europeo</td>
                                    <td>2 anni</td>
                                    <td>20/05/2025</td>
                                    <td><span class="animal-status" style="background: #fff3cd; color: #856404;">Controllo</span></td>
                                    <td>Post sterilizzazione</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Visualizza Cartella" onclick="showMedicalDetail('luna')">
                                            <i class="fas fa-folder-open"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Nuova Visita">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <i class="fas fa-dog" style="color: #ff8c42;"></i>
                                            <strong>Buddy</strong>
                                        </div>
                                    </td>
                                    <td>380260123456791</td>
                                    <td>Cane - Labrador Mix</td>
                                    <td>5 anni</td>
                                    <td>15/05/2025</td>
                                    <td><span class="animal-status status-adopted">Adottato</span></td>
                                    <td>Controllo pre-adozione completato</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Visualizza Cartella" onclick="showMedicalDetail('buddy')">
                                            <i class="fas fa-folder-open"></i>
                                        </button>
                                        <button class="btn btn-secondary btn-icon" title="Nuova Visita">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Vaccinations Tab -->
                <div id="medicalVaccinations" class="content-section hidden">
                    <div class="section-header">
                        <h2 class="section-title">Registro Vaccinazioni</h2>
                        <button class="btn btn-primary">
                            <i class="fas fa-syringe"></i> Registra Vaccino
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Animale</th>
                                    <th>Microchip</th>
                                    <th>Vaccino</th>
                                    <th>Data Somministrazione</th>
                                    <th>Prossimo Richiamo</th>
                                    <th>Veterinario</th>
                                    <th>Lotto</th>
                                    <th>Stato</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Max</strong></td>
                                    <td>380260123456789</td>
                                    <td>Tetravalente (DHPP)</td>
                                    <td>25/05/2024</td>
                                    <td><span style="color: #dc3545; font-weight: bold;">25/05/2025</span></td>
                                    <td>Dr. Veterinari</td>
                                    <td>VAC001234</td>
                                    <td><span class="animal-status" style="background: #f8d7da; color: #721c24;">Scaduto</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Luna</strong></td>
                                    <td>380260123456790</td>
                                    <td>Trivalente Felino</td>
                                    <td>15/04/2025</td>
                                    <td>15/04/2026</td>
                                    <td>Dr. Felini</td>
                                    <td>FEL002456</td>
                                    <td><span class="animal-status status-available">Attivo</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Max</strong></td>
                                    <td>380260123456789</td>
                                    <td>Antirabbica</td>
                                    <td>10/03/2025</td>
                                    <td>10/03/2026</td>
                                    <td>Dr. Veterinari</td>
                                    <td>RAB003789</td>
                                    <td><span class="animal-status status-available">Attivo</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Treatments Tab -->
                <div id="medicalTreatments" class="content-section hidden">
                    <div class="section-header">
                        <h2 class="section-title">Trattamenti Medici</h2>
                        <button class="btn btn-primary">
                            <i class="fas fa-pills"></i> Nuovo Trattamento
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Animale</th>
                                    <th>Microchip</th>
                                    <th>Trattamento</th>
                                    <th>Farmaco/Terapia</th>
                                    <th>Data Inizio</th>
                                    <th>Durata</th>
                                    <th>Frequenza</th>
                                    <th>Stato</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Luna</strong></td>
                                    <td>380260123456790</td>
                                    <td>Antibiotico post-operatorio</td>
                                    <td>Amoxicillina 250mg</td>
                                    <td>22/05/2025</td>
                                    <td>7 giorni</td>
                                    <td>2 volte/giorno</td>
                                    <td><span class="animal-status status-available">In corso</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Rocky</strong></td>
                                    <td>380260123456791</td>
                                    <td>Antiparassitario</td>
                                    <td>Frontline Spot-On</td>
                                    <td>15/05/2025</td>
                                    <td>1 applicazione</td>
                                    <td>Mensile</td>
                                    <td><span class="animal-status status-available">Completato</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Milo</strong></td>
                                    <td>380260123456792</td>
                                    <td>Terapia dermatologica</td>
                                    <td>Shampoo medicato</td>
                                    <td>10/05/2025</td>
                                    <td>14 giorni</td>
                                    <td>3 volte/settimana</td>
                                    <td><span class="animal-status status-available">In corso</span></td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Dettagli">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>    
            <!-- Medical Detail Modal -->
            <div id="medicalDetailModal" class="section hidden">
                <div class="adoption-form" style="max-width: 1000px;">
                    <div class="form-header">
                        <h1><i class="fas fa-file-medical"></i> Cartella Clinica - Max</h1>
                        <p style="color: #6c757d;">Golden Retriever • Maschio • 3 anni • Microchip: 380260123456789</p>
                        <div style="text-align: right; margin-top: 1rem;">
                            <button class="btn btn-secondary" onclick="hideMedicalDetail()">
                                <i class="fas fa-arrow-left"></i> Torna Indietro
                            </button>
                            <button class="btn btn-primary" onclick="window.print()">
                                <i class="fas fa-print"></i> Stampa Cartella
                            </button>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-info-circle"></i> Informazioni Generali</h3>
                        <div class="form-row">
                            <div class="form-label">Data di nascita stimata:</div>
                            <div class="form-value">15/03/2022</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Data arrivo rifugio:</div>
                            <div class="form-value">15/05/2025</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Peso attuale:</div>
                            <div class="form-value">28.5 kg</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Sterilizzato:</div>
                            <div class="form-value">Sì (02/04/2024)</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Allergie note:</div>
                            <div class="form-value">Nessuna</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-stethoscope"></i> Storico Visite</h3>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Tipo Visita</th>
                                        <th>Veterinario</th>
                                        <th>Diagnosi/Note</th>
                                        <th>Terapia</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>25/05/2025</td>
                                        <td>Visita d'ingresso</td>
                                        <td>Dr. Veterinari</td>
                                        <td>Buone condizioni generali. Lieve perdita di peso.</td>
                                        <td>Dieta ipercalorica</td>
                                    </tr>
                                    <tr>
                                        <td>15/05/2025</td>
                                        <td>Prima visita</td>
                                        <td>Dr. Veterinari</td>
                                        <td>Animale in discrete condizioni. Necessari controlli approfonditi.</td>
                                        <td>Vermifugo, antiparassitario</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-syringe"></i> Vaccinazioni</h3>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Vaccino</th>
                                        <th>Data</th>
                                        <th>Scadenza</th>
                                        <th>Lotto</th>
                                        <th>Veterinario</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="background: #f8d7da;">
                                        <td>Tetravalente (DHPP)</td>
                                        <td>25/05/2024</td>
                                        <td><strong style="color: #dc3545;">25/05/2025 - SCADUTO</strong></td>
                                        <td>VAC001234</td>
                                        <td>Dr. Veterinari</td>
                                    </tr>
                                    <tr>
                                        <td>Antirabbica</td>
                                        <td>10/03/2025</td>
                                        <td>10/03/2026</td>
                                        <td>RAB003789</td>
                                        <td>Dr. Veterinari</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-pills"></i> Trattamenti Farmacologici</h3>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Farmaco</th>
                                        <th>Dosaggio</th>
                                        <th>Periodo</th>
                                        <th>Motivo</th>
                                        <th>Note</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Vermifugo (Drontal)</td>
                                        <td>1 compressa</td>
                                        <td>16/05/2025</td>
                                        <td>Profilassi</td>
                                        <td>Somministrazione unica</td>
                                    </tr>
                                    <tr>
                                        <td>Frontline Spot-On</td>
                                        <td>1 pipetta</td>
                                        <td>16/05/2025</td>
                                        <td>Antiparassitario</td>
                                        <td>Ripetere mensilmente</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-notes-medical"></i> Note Comportamentali</h3>
                        <div style="background: #f8f9fa; padding: 1rem; border-radius: 5px; color: #343a40;">
                            <p><strong>Temperamento:</strong> Docile e socievole. Molto affettuoso con le persone.</p>
                            <p><strong>Socializzazione:</strong> Buona con altri cani, necessita di graduale introduzione con i gatti.</p>
                            <p><strong>Addestramento:</strong> Conosce i comandi di base. Risponde bene al richiamo.</p>
                            <p><strong>Particolarità:</strong> Tende ad essere protettivo con il cibo. Necessita di spazi ampi per l'esercizio.</p>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-exclamation-triangle"></i> Prossimi Appuntamenti</h3>
                        <div style="background: #fff3cd; padding: 1rem; border-radius: 5px; border-left: 4px solid #ffc107;">
                            <p><strong>Vaccino Tetravalente:</strong> Da programmare entro il 05/06/2025</p>
                            <p><strong>Controllo peso:</strong> Visita di controllo programmata per il 10/06/2025</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Donations Section -->
            <div id="donations" class="section hidden">
                <h1 class="page-title">Gestione Donazioni</h1>
                
                <div class="section-controls">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Cerca donazioni..." id="donationsSearch" onkeyup="searchDonations()">
                    </div>
                    <div class="controls-group">
                        <button class="btn btn-outline" onclick="window.print()">
                            <i class="fas fa-print"></i> Stampa
                        </button>
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Registra Donazione
                        </button>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">€2,840</div>
                        <div class="stat-label">Questo mese</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">€18,500</div>
                        <div class="stat-label">Quest'anno</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">127</div>
                        <div class="stat-label">Donatori attivi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">€145</div>
                        <div class="stat-label">Donazione media</div>
                    </div>
                </div>

                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Ultime Donazioni</h2>
                    </div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Donatore</th>
                                    <th>Importo</th>
                                    <th>Data</th>
                                    <th>Modalità</th>
                                    <th>Causale</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody id="donationsTableBody">
                                <tr>
                                    <td><strong>Anna Verdi</strong></td>
                                    <td>€200</td>
                                    <td>29/05/2025</td>
                                    <td>Bonifico</td>
                                    <td>Donazione generale</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Ricevuta">
                                            <i class="fas fa-receipt"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Francesco Neri</strong></td>
                                    <td>€50</td>
                                    <td>28/05/2025</td>
                                    <td>PayPal</td>
                                    <td>Cure veterinarie</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Ricevuta">
                                            <i class="fas fa-receipt"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Famiglia Blu</strong></td>
                                    <td>€300</td>
                                    <td>27/05/2025</td>
                                    <td>Contanti</td>
                                    <td>Cibo e medicinali</td>
                                    <td>
                                        <button class="btn btn-primary btn-icon" title="Ricevuta">
                                            <i class="fas fa-receipt"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Adoption Form Modal -->
            <div id="adoptionFormModal" class="section hidden">
                <div class="adoption-form">
                    <div class="form-header">
                        <h1><i class="fas fa-file-contract"></i> Contratto di Adozione</h1>
                        <h2>Rifugio di Leo</h2>
                        <p style="color: #6c757d;">Via del Rifugio, 123 - 10100 Torino (TO)</p>
                        <p style="color: #6c757d;">Tel: 011-1234567 | Email: info@rifugiodileo.it</p>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-user"></i> Dati dell'Adottante</h3>
                        <div class="form-row">
                            <div class="form-label">Nome e Cognome:</div>
                            <div class="form-value">Mario Rossi</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Codice Fiscale:</div>
                            <div class="form-value">RSSMRA80A01H501Z</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Indirizzo:</div>
                            <div class="form-value">Via Roma, 45 - 10100 Torino (TO)</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Telefono:</div>
                            <div class="form-value">333-1234567</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Email:</div>
                            <div class="form-value">mario.rossi@email.com</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-paw"></i> Dati dell'Animale</h3>
                        <div class="form-row">
                            <div class="form-label">Nome:</div>
                            <div class="form-value">Max</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Specie e Razza:</div>
                            <div class="form-value">Cane - Golden Retriever</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Età:</div>
                            <div class="form-value">3 anni</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Sesso:</div>
                            <div class="form-value">Maschio</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Microchip:</div>
                            <div class="form-value">380260123456789</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Sterilizzato:</div>
                            <div class="form-value">Sì</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-handshake"></i> Condizioni dell'Adozione</h3>
                        <div style="color: #343a40; line-height: 1.6;">
                            <p style="margin-bottom: 1rem;">Con la presente scrittura privata, l'adottante si impegna a:</p>
                            <ul style="margin-left: 2rem; margin-bottom: 1rem;">
                                <li>Fornire cure appropriate e tempestive all'animale</li>
                                <li>Garantire controlli veterinari regolari</li>
                                <li>Non cedere l'animale a terzi senza autorizzazione del rifugio</li>
                                <li>Permettere visite di controllo da parte del rifugio</li>
                                <li>Comunicare tempestivamente eventuali problemi di salute</li>
                            </ul>
                            <p>Il rifugio si riserva il diritto di riprendere l'animale in caso di maltrattamento o inadempienza delle condizioni sopra elencate.</p>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-label">Data Adozione:</div>
                            <div class="form-value">30 Maggio 2025</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Contributo Adozione:</div>
                            <div class="form-value">€150,00</div>
                        </div>
                    </div>

                    <div class="signature-section">
                        <div class="signature-box">
                            <div>Firma dell'Adottante</div>
                        </div>
                        <div class="signature-box">
                            <div>Firma del Rappresentante del Rifugio</div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="btn btn-secondary" onclick="hideAdoptionForm()">
                            <i class="fas fa-arrow-left"></i> Torna Indietro
                        </button>
                        <button class="btn btn-primary" onclick="window.print()">
                            <i class="fas fa-print"></i> Stampa Contratto
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Global variables
        let currentSection = 'dashboard';
        let currentAnimalsView = 'table';

        // Toggle profile dropdown
        function toggleDropdown() {
            const menu = document.getElementById('profileMenu');
            menu.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.profile-dropdown');
            if (!dropdown.contains(event.target)) {
                document.getElementById('profileMenu').classList.remove('show');
            }
        });

        // Show section
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.add('hidden'));
            
            // Remove active class from all sidebar items
            const sidebarItems = document.querySelectorAll('.sidebar-item');
            sidebarItems.forEach(item => item.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Add active class to clicked sidebar item
            event.target.closest('.sidebar-item').classList.add('active');
            
            currentSection = sectionId;
        }

        // Toggle animals view
        function toggleAnimalsView(viewType) {
            const tableView = document.getElementById('animalsTable');
            const cardsView = document.getElementById('animalsCards');
            const toggleBtns = document.querySelectorAll('#animals .toggle-btn');
            
            toggleBtns.forEach(btn => btn.classList.remove('active'));
            
            if (viewType === 'table') {
                tableView.classList.remove('hidden');
                cardsView.classList.add('hidden');
                toggleBtns[0].classList.add('active');
            } else {
                tableView.classList.add('hidden');
                cardsView.classList.remove('hidden');
                toggleBtns[1].classList.add('active');
            }
            
            currentAnimalsView = viewType;
        }

        // Show adoption tab
        function showAdoptionTab(tabType) {
            const tabs = document.querySelectorAll('#adoptions .nav-tab');
            const pending = document.getElementById('pendingAdoptions');
            const completed = document.getElementById('completedAdoptions');
            const forms = document.getElementById('adoptionForms');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            [pending, completed, forms].forEach(section => section.classList.add('hidden'));
            
            if (tabType === 'pending') {
                tabs[0].classList.add('active');
                pending.classList.remove('hidden');
            } else if (tabType === 'completed') {
                tabs[1].classList.add('active');
                completed.classList.remove('hidden');
            } else if (tabType === 'forms') {
                tabs[2].classList.add('active');
                forms.classList.remove('hidden');
            }
        }

        // Show visit tab
        function showVisitTab(tabType) {
            const tabs = document.querySelectorAll('#visits .nav-tab');
            const upcoming = document.getElementById('upcomingVisits');
            const completed = document.getElementById('completedVisits');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            [upcoming, completed].forEach(section => section.classList.add('hidden'));
            
            if (tabType === 'upcoming') {
                tabs[0].classList.add('active');
                upcoming.classList.remove('hidden');
            } else if (tabType === 'completed') {
                tabs[1].classList.add('active');
                completed.classList.remove('hidden');
            }
        }

        // Show adoption form
        function showAdoptionForm() {
            document.getElementById('adoptions').classList.add('hidden');
            document.getElementById('adoptionFormModal').classList.remove('hidden');
        }

        // Hide adoption form
        function hideAdoptionForm() {
            document.getElementById('adoptionFormModal').classList.add('hidden');
            document.getElementById('adoptions').classList.remove('hidden');
        }

        // Search functions
        function searchAnimals() {
            const searchTerm = document.getElementById('animalsSearch').value.toLowerCase();
            const tableRows = document.querySelectorAll('#animalsTableBody tr');
            const cards = document.querySelectorAll('#animalsCards .animal-card');
            
            // Search in table
            tableRows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
            
            // Search in cards
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        function searchAdoptions() {
            const searchTerm = document.getElementById('adoptionsSearch').value.toLowerCase();
            const tableRows = document.querySelectorAll('#adoptionsTableBody tr');
            
            tableRows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        function searchVisits() {
            const searchTerm = document.getElementById('visitsSearch').value.toLowerCase();
            const tableRows = document.querySelectorAll('#visitsTableBody tr');
            
            tableRows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        function searchDonations() {
            const searchTerm = document.getElementById('donationsSearch').value.toLowerCase();
            const tableRows = document.querySelectorAll('#donationsTableBody tr');
            
            tableRows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }
        function showMedicalTab(tabType) {
            const tabs = document.querySelectorAll('#medical-records .nav-tab');
            const records = document.getElementById('medicalRecords');
            const vaccinations = document.getElementById('medicalVaccinations');
            const treatments = document.getElementById('medicalTreatments');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            [records, vaccinations, treatments].forEach(section => section.classList.add('hidden'));
            
            if (tabType === 'records') {
                tabs[0].classList.add('active');
                records.classList.remove('hidden');
            } else if (tabType === 'vaccinations') {
                tabs[1].classList.add('active');
                vaccinations.classList.remove('hidden');
            } else if (tabType === 'treatments') {
                tabs[2].classList.add('active');
                treatments.classList.remove('hidden');
            }
        }

        function searchMedicalRecords() {
            const searchTerm = document.getElementById('medicalSearch').value.toLowerCase();
            const tableRows = document.querySelectorAll('#medicalRecordsTableBody tr');
            
            tableRows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

       function showMedicalDetail(animalId) {
    console.log("Apro cartella per:", animalId);
    
    const medicalRecords = document.getElementById('medical-records');
    const medicalDetailModal = document.getElementById('medicalDetailModal');
    
    if (medicalRecords && medicalDetailModal) {
        // Nascondi la sezione delle cartelle
        medicalRecords.classList.add('hidden');
        // Mostra il modal
        medicalDetailModal.classList.remove('hidden');
        console.log("Modal aperto con successo");
    }
}
function hideMedicalDetail() {
    const medicalDetailModal = document.getElementById('medicalDetailModal');
    const medicalRecords = document.getElementById('medical-records');
    
    if (medicalDetailModal && medicalRecords) {
        medicalDetailModal.classList.add('hidden');
        medicalRecords.classList.remove('hidden');
        console.log("Modal chiuso con successo");
    }
}

        function showNewMedicalRecord() {
            alert('Funzione per creare nuova cartella clinica - Da implementare');
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            showSection('dashboard');
        });
    </script>
</body>
</html>
